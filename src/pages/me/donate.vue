<script lang="ts">
import Vue from "vue"

/* Interfaces */
import type { SponsorLinks } from "~/@types/runtimeConfig"
import type { ISponsor } from "@/types/Response/Sponsors"

export default Vue.extend({
  data() {
    return {
      sponsors: [] as ISponsor[],
      accounts: [
        {
          image: "/assets/icons/garanti.png",
          name: "Garanti",
          iban: "TR12 0006 2001 1510 0006 8787 43",
          revealed: false,
        },

      ],
    }
  },
  fetchOnServer: false,

  head() {
    const title = "Donate"
    const description =
      "Like my projects? You can donate to me to boost my performance and help me create more, better projects in the future!"

    return {
      title,
      meta: this.$prepareMeta({
        title,
        description,
        keywords: "donate",
        url: "https://schwefel.tech/me/donate",
      }),
      link: [
        {
          rel: "canonical",
          href: "https://schwefel.tech/me/donate",
        },
      ],
    }
  },

})
</script>

<template>
  <PageLayout
    title="Donate"
    :description="[
      'If you like my projects and/or what I do and you want to contribute, make me happy, you can donate to me with the information on this page! Thank you â™¥',
      `P.S. Use 'Schwefel' as the name of your transactions.`,
    ]"
    class="space-y-12"
  >
    <!-- <section class="space-y-4">
      <Title>Support Me On</Title>

      <div class="flex flex-wrap gap-x-4 gap-y-2">
        <Button  blank>
          <template #icon>
            <IconBrand brand="github" class="h-5 w-5" />
          </template>

          GitHub Sponsors
        </Button>
      </div>
    </section>

    <section class="space-y-4">
      <Title :padding="false">Sponsors</Title>

      <div>
        <transition name="fade" mode="out-in">
          <SkeletonLoader
            v-if="$fetchState.pending"
            type="spinner"
            class="w-full py-4"
          />

          <p v-else-if="$fetchState.error !== null">An error occured.</p>
          <p
            v-else-if="
              !$fetchState.pending &&
              !$fetchState.error &&
              sponsors.length === 0
            "
          >
            No sponsors yet :(
          </p>

          <div v-else class="grid grid-cols-2 lg:grid-cols-4 gap-2">
            <CardSponsor
              v-for="(item, index) in getSortedSponsors.monthly"
              :key="`sponsor-monthly-${index}`"
              :sponsor="item.sponsor"
              monthly
            />

            <CardSponsor
              v-for="(item, index) in getSortedSponsors.oneTime"
              :key="`sponsor-oneTime-${index}`"
              :sponsor="item.sponsor"
            />
          </div>
        </transition>
      </div>
    </section> -->

    <section class="space-y-4">
      <Title>Bank Accounts</Title>

      <div class="grid gap-4">
        <div
          v-for="(account, index) in accounts"
          :key="`account-${index}`"
          class="flex h-full space-x-4 items-center rounded-lg card-base"
        >
          <div class="rounded-lg">
            <img :src="account.image" class="rounded-lg h-12 w-12" />
          </div>

          <div class="rounded-tr rounded-br flex h-full">
            <div>
              <h3 class="font-medium text-lg">
                {{ account.name }}
              </h3>

              <span
                class="text-black/30 dark:text-white/30"
                :class="
                  !account.revealed &&
                  'hover:underline cursor-pointer select-none'
                "
                @click="account.revealed = true"
              >
                {{ account.revealed ? account.iban : "Click to Reveal" }}
              </span>
            </div>
          </div>
        </div>
      </div>
    </section>
  </PageLayout>
</template>
